---
---
/* 遍历posts */ 
{% capture posts %}
    [
        {% for post in site.posts %}
        {
            "title"  : "{{ post.title }}",
            "url"    : "{{ post.url }}",
            "date"   : '{{ post.date | date: "%Y-%m-%d" }}',
            "content": "{{ post.content | escape }}",
            "category": "{{ post.category }}",
            "description": "{{ post.description }}",
            "author": "{{ post.author }}",
            "tagpic": "{{ post.tagpic }}",
            "description": "{{ post.description }}"
        }{% if forloop.last %}{% else %},{% endif %}
        {% endfor %}
    ]
{% endcapture %}

var posts = {{ posts | strip_newlines }};

function stepFadeOut(){function t(){a.length||window.removeEventListener("scroll",arguments.callee);var e=document.body.scrollTop||document.documentElement.scrollTop;if(a[0]&&e>a[0].offset)return a[0].target.classList.remove("article-item--hidden"),a.shift(),t()}var e=$$(".article-item"),a=[];Array.prototype.forEach.call(e,function(t,e){a.push({target:t,offset:t.offsetTop-450})}),window.addEventListener("scroll",t),t()}function render(){for(var t=stack[nowPage-1],e="",a=0;a<t.length;a++)e+='<section class="article-item article-item--hidden">',e+='<div class="article-item__header"><p class="header-title">{<span class="title-content">'+t[a].title+'</span>}</p><div class="tags "><i class="tags-clock"></i>发表于：<time>'+t[a].date+'</time> By <span class="author">'+t[a].author+"</span></div></div>",e+='<div class="article-item__body"><p>'+t[a].description+'</p><a href="http://xgcyjd2014.github.io'+t[a].url+'" target="__blank" class="read-more">Read More</a><div class="line"></div></div>',e+='<div class="article-item__footer"><div class="type"><i></i><span> '+t[a].category+'</span></div><ul class="share"><li><span>分享到:</span></li><li><a class="qzone" href="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://xgcyjd2014.github.io'+t[a].url+"&title=《"+t[a].title+"》 作者："+t[a].author+" 发布日期："+t[a].date+'&desc=-分享来自信管创业基地博文聚合，转载请服从Creative Commons（BY-NC）知识共享协议-&pics=http://xgcyjd2014.github.io/assets/img/share-logo.png&site=http://xgcyjd2014.github.io" target="__blank" title="分享到QQ空间"></a></li><li class="ml"><a class="weibo" href="http://service.weibo.com/share/share.php?url=http://xgcyjd2014.github.io'+t[a].url+"&title=《"+t[a].title+"》 作者："+t[a].author+" 发布日期："+t[a].date+' 分享来自信管创业基地博文聚合，转载请服从Creative Commons（BY-NC）知识共享协议 &pic=http://xgcyjd2014.github.io/assets/img/share-logo.png&site=http://xgcyjd2014.github.io" target="__blank" title="分享到微博"></a></li><li class="ml"><a class="twitter" href="https://twitter.com/intent/tweet?url=http://xgcyjd2014.github.io'+t[a].url+"&text=《"+t[a].title+"》 作者："+t[a].author+" 发布日期："+t[a].date+' 分享来自信管创业基地博文聚合，转载请服从Creative Commons（BY-NC）知识共享协议 " target="__blank" title="分享到推特"></a></li><li class="ml"><a class="qq" href="http://connect.qq.com/widget/shareqq/index.html?url=http://xgcyjd2014.github.io'+t[a].url+"&pics=http://xgcyjd2014.github.io/assets/img/share-logo.png&title=《"+t[a].title+"》 作者："+t[a].author+" 发布日期："+t[a].date+'&summary=分享来自信管创业基地博文聚合，转载请服从Creative Commons（BY-NC）知识共享协议" target="__blank" title="分享到推特"></a></li></ul></div>',e+="</section>";e+='<section class="article-pagination"><ol class="article-pagination-list clearfix">',e+=pagination(),e+="</ol></section>",oArticleList.innerHTML=e}function pagination(){function t(t){var e="";return e+=t===nowPage?'<li class="active"><a href="javascirpt:;" data-page='+t+' title="第'+t+'页">'+t+"</a></li>":'<li><a href="javascirpt:;" data-page='+t+' title="第'+t+'页">'+t+"</a></li>"}var e="",a=~~(paginationNum/2);if(e+='<section class="article-pagination"><ol class="article-pagination-list clearfix">',allNum<paginationNum)for(var i=1;i<=allNum;i++)e+=t(i);else if(nowPage<=a+1){for(var i=1;i<=paginationNum;i++)e+=t(i);e+='<li><a href="javascirpt:;" data-page='+allNum+' title="尾页">尾页</a></li>'}else if(nowPage>a+1&&nowPage<allNum-a){e+='<li><a href="javascirpt:;" data-page=1 title="首页">首页</a></li>';for(var i=nowPage-a;i<=nowPage+a;i++)e+=t(i);e+='<li><a href="javascirpt:;" data-page='+allNum+' title="尾页">尾页</a></li>'}else{e+='<li><a href="javascirpt:;" data-page=1 title="首页">首页</a></li>';for(var i=allNum-paginationNum+1;i<=allNum;i++)e+=t(i)}return e+="</ol></section>"}function scrollAnimate(){var t=document.body.scrollTop||document.documentElement.scrollTop,e=Math.floor(t/30),a=oArticleList.offsetTop;firstItemTop=a-350,+function(){t-=e,scrollTo(0,t),t>firstItemTop&&setTimeout(arguments.callee,1e3/60)}()}function $(t,e){return e=e||document,e.querySelector(t)}function $$(t,e){return e=e||document,e.querySelectorAll(t)}var paginationNum=5,allNum=0,nowPage=1,stack=[],oArticleList=$(".article-list");+function(){for(var t=0,e=[];t<posts.length;t++)e.push(posts[t]),(t+1)%paginationNum===0&&0!==t&&(stack.push(e),e=[]);0!==e.length&&stack.push(e)}(),allNum=stack.length,+function(){oArticleList.addEventListener("click",function(t){var e=~~t.target.dataset.page;"a"===t.target.nodeName.toLowerCase()&&e&&e!==nowPage&&(nowPage=e,render(),scrollAnimate(),setTimeout(function(){stepFadeOut()},800))})}(),render(),stepFadeOut();