(function(){var isSupportedBrowser=(function(){return window.ontransitionend!==undefined||document.documentElement.style.transition!==undefined})();var TRANSITION_PROP,ANIMATION_PROP;var DURATION_KEY="Duration";var PROPERTY_KEY="Property";var DELAY_KEY="Delay";var ANIMATION_ITERATION_COUNT_KEY="IterationCount";var ONE_SECOND=1000;if(window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined){TRANSITION_PROP="WebkitTransition"}else{TRANSITION_PROP="transition"}if(window.onanimationend===undefined&&window.onwebkitanimationend!==undefined){ANIMATION_PROP="WebkitAnimation"}else{ANIMATION_PROP="animation"}function parseMaxTime(str){var maxValue=0,value;var values=typeof(str)==="string"?str.split(/\s*,\s*/):[];for(var i=values.length;i--;){value=values[i];maxValue=Math.max(parseFloat(value)||0,maxValue)}return maxValue}function getAnimationTime(element){var transitionDuration=0;var transitionDelay=0;var animationDuration=0;var animationDelay=0;var elementStyles=window.getComputedStyle(element)||{};var transitionDurationStyle=elementStyles[TRANSITION_PROP+DURATION_KEY];transitionDuration=Math.max(parseMaxTime(transitionDurationStyle),transitionDuration);var transitionDelayStyle=elementStyles[TRANSITION_PROP+DELAY_KEY];transitionDelay=Math.max(parseMaxTime(transitionDelayStyle),transitionDelay);var animationDelayStyle=elementStyles[ANIMATION_PROP+DELAY_KEY];animationDelay=Math.max(parseMaxTime(elementStyles[ANIMATION_PROP+DELAY_KEY]),animationDelay);var aDuration=parseMaxTime(elementStyles[ANIMATION_PROP+DURATION_KEY]);if(aDuration>0){aDuration*=parseInt(elementStyles[ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY],10)||1}animationDuration=Math.max(aDuration,animationDuration);return animationDuration||transitionDuration}function getBackgroundStyle(element){var computedStyle=window.getComputedStyle(element);return computedStyle.background||computedStyle.backgroundColor}var defaults={duration:0.3,targetShowDuration:0,extraTransitionDuration:1,relativeToWindow:false};function cta(trigger,target,options,callback){if(typeof options==="function"){callback=options;options={}}if(!isSupportedBrowser){if(callback){callback(target)}return}var targetBackground,triggerBackground,targetBounds,triggerBounds,dummy;options=options||{};options.duration=options.duration||defaults.duration;options.targetShowDuration=options.targetShowDuration||getAnimationTime(target)||defaults.targetShowDuration;options.relativeToWindow=options.relativeToWindow||defaults.relativeToWindow;options.extraTransitionDuration=options.extraTransitionDuration||defaults.extraTransitionDuration;if(window.getComputedStyle(target).display==="none"){target.style.setProperty("display","block","important")}targetBackground=getBackgroundStyle(target);triggerBackground=getBackgroundStyle(trigger);targetBounds=target.getBoundingClientRect();triggerBounds=trigger.getBoundingClientRect();scaleXRatio=triggerBounds.width/targetBounds.width;scaleYRatio=triggerBounds.height/targetBounds.height;diffX=triggerBounds.left-targetBounds.left;diffY=triggerBounds.top-targetBounds.top;target.style.removeProperty("display");dummy=document.createElement("div");dummy.style.setProperty("pointer-events","none","important");dummy.style.setProperty("position",(options.relativeToWindow?"fixed":"absolute"),"important");dummy.style.setProperty("-webkit-transform-origin","top left","important");dummy.style.setProperty("transform-origin","top left","important");dummy.style.setProperty("transition",options.duration+"s ease");dummy.style.setProperty("width",targetBounds.width+"px","important");dummy.style.setProperty("height",targetBounds.height+"px","important");dummy.style.setProperty("left",(targetBounds.left+(options.relativeToWindow?0:window.pageXOffset))+"px","important");dummy.style.setProperty("top",(targetBounds.top+(options.relativeToWindow?0:window.pageYOffset))+"px","important");dummy.style.setProperty("background",triggerBackground,"important");dummy.style.setProperty("-webkit-transform","translate("+diffX+"px, "+diffY+"px) scale("+scaleXRatio+", "+scaleYRatio+")","important");dummy.style.setProperty("transform","translate("+diffX+"px, "+diffY+"px) scale("+scaleXRatio+", "+scaleYRatio+")","important");document.body.appendChild(dummy);var justReadIt=dummy.offsetTop;dummy.style.setProperty("background",targetBackground,"important");dummy.style.removeProperty("-webkit-transform");dummy.style.removeProperty("transform");dummy.addEventListener("transitionend",function transitionEndCallback(){dummy.removeEventListener("transitionend",transitionEndCallback);if(callback){callback(target)}dummy.style.transitionDuration=(options.targetShowDuration+options.extraTransitionDuration)+"s";dummy.style.opacity=0;setTimeout(function(){dummy.parentNode.removeChild(dummy)},(options.targetShowDuration+options.extraTransitionDuration)*1000)});return function(options,callback){cta(target,trigger,options,callback)}}cta.isSupported=isSupportedBrowser;if(typeof exports==="object"){module.exports=cta
}else{if(typeof define==="function"&&define.amd){define(function(){return cta})}else{window.cta=cta}}})();